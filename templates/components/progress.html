{# Progress Component #}
{# Usage: {% include 'components/progress.html' with value=75 %} #}

{% with value=value|default:0 variant=variant|default:"primary" size=size|default:"md" %}
<div class="{{ class }}">
    {% if label or show_value %}
    <div class="flex justify-between mb-1">
        {% if label %}
        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">{{ label }}</span>
        {% endif %}
        {% if show_value %}
        <span class="text-sm font-medium text-gray-500 dark:text-gray-400">{{ value }}%</span>
        {% endif %}
    </div>
    {% endif %}
    
    <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden
        {% if size == 'sm' %}h-1.5{% endif %}
        {% if size == 'md' %}h-2.5{% endif %}
        {% if size == 'lg' %}h-4{% endif %}
    ">
        <div 
            class="h-full rounded-full transition-all duration-500 ease-out
            {% if variant == 'primary' or variant == 'indigo' %}bg-indigo-600{% endif %}
            {% if variant == 'success' or variant == 'green' %}bg-green-600{% endif %}
            {% if variant == 'warning' or variant == 'yellow' %}bg-yellow-500{% endif %}
            {% if variant == 'danger' or variant == 'red' %}bg-red-600{% endif %}
            {% if variant == 'info' or variant == 'blue' %}bg-blue-600{% endif %}
            {% if animated %}animate-pulse{% endif %}
            {% if striped %}bg-gradient-to-r from-transparent via-white/20 to-transparent bg-[length:1rem_100%]{% endif %}
            "
            style="width: {{ value }}%"
            role="progressbar"
            aria-valuenow="{{ value }}"
            aria-valuemin="0"
            aria-valuemax="100"
        >
            {% if size == 'lg' and show_value_inside %}
            <span class="flex items-center justify-center h-full text-xs font-semibold text-white">{{ value }}%</span>
            {% endif %}
        </div>
    </div>
    
    {% if description %}
    <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">{{ description }}</p>
    {% endif %}
</div>
{% endwith %}
