{# Alert Component #}
{# Usage: {% include 'components/alert.html' with type="success" message="Done!" %} #}

{% with type=type|default:"info" %}
<div 
    {% if dismissible %}x-data="{ show: true }" x-show="show" x-cloak{% endif %}
    class="rounded-lg p-4 mb-4 {{ class }}
    {% if type == 'success' %}
        bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800
    {% elif type == 'error' or type == 'danger' %}
        bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800
    {% elif type == 'warning' %}
        bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800
    {% elif type == 'info' %}
        bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800
    {% endif %}
    "
    role="alert"
>
    <div class="flex">
        <div class="flex-shrink-0">
            <i data-lucide="
            {% if type == 'success' %}check-circle
            {% elif type == 'error' or type == 'danger' %}x-circle
            {% elif type == 'warning' %}alert-triangle
            {% elif type == 'info' %}info
            {% endif %}" 
            class="h-5 w-5
            {% if type == 'success' %}text-green-400{% endif %}
            {% if type == 'error' or type == 'danger' %}text-red-400{% endif %}
            {% if type == 'warning' %}text-yellow-400{% endif %}
            {% if type == 'info' %}text-blue-400{% endif %}
            "></i>
        </div>
        <div class="ml-3 flex-1">
            {% if title %}
            <h3 class="text-sm font-medium
                {% if type == 'success' %}text-green-800 dark:text-green-200{% endif %}
                {% if type == 'error' or type == 'danger' %}text-red-800 dark:text-red-200{% endif %}
                {% if type == 'warning' %}text-yellow-800 dark:text-yellow-200{% endif %}
                {% if type == 'info' %}text-blue-800 dark:text-blue-200{% endif %}
            ">
                {{ title }}
            </h3>
            {% endif %}
            <div class="{% if title %}mt-2{% endif %} text-sm
                {% if type == 'success' %}text-green-700 dark:text-green-300{% endif %}
                {% if type == 'error' or type == 'danger' %}text-red-700 dark:text-red-300{% endif %}
                {% if type == 'warning' %}text-yellow-700 dark:text-yellow-300{% endif %}
                {% if type == 'info' %}text-blue-700 dark:text-blue-300{% endif %}
            ">
                {{ message }}
                {{ content }}
            </div>
            {% if actions %}
            <div class="mt-4">
                {{ actions }}
            </div>
            {% endif %}
        </div>
        {% if dismissible %}
        <div class="ml-auto pl-3">
            <button type="button" @click="show = false" class="-mx-1.5 -my-1.5 inline-flex rounded-lg p-1.5
                {% if type == 'success' %}text-green-500 hover:bg-green-100 dark:hover:bg-green-800{% endif %}
                {% if type == 'error' or type == 'danger' %}text-red-500 hover:bg-red-100 dark:hover:bg-red-800{% endif %}
                {% if type == 'warning' %}text-yellow-500 hover:bg-yellow-100 dark:hover:bg-yellow-800{% endif %}
                {% if type == 'info' %}text-blue-500 hover:bg-blue-100 dark:hover:bg-blue-800{% endif %}
            ">
                <span class="sr-only">Dismiss</span>
                <i data-lucide="x" class="h-5 w-5"></i>
            </button>
        </div>
        {% endif %}
    </div>
</div>
{% endwith %}
