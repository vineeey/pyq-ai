{# Tabs Component #}
{# Usage: {% include 'components/tabs.html' with tabs=tabs active_tab=active_tab %} #}

<div x-data="{ activeTab: '{{ active_tab|default:tabs.0.id }}' }" class="{{ class }}">
    <!-- Tab Navigation -->
    <div class="border-b border-gray-200 dark:border-gray-700">
        <nav class="-mb-px flex space-x-8" aria-label="Tabs">
            {% for tab in tabs %}
            <button
                type="button"
                @click="activeTab = '{{ tab.id }}'"
                :class="activeTab === '{{ tab.id }}' ? 'border-indigo-500 text-indigo-600 dark:text-indigo-400' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300'"
                class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors"
            >
                {% if tab.icon %}<i data-lucide="{{ tab.icon }}" class="w-4 h-4 inline mr-2"></i>{% endif %}
                {{ tab.label }}
                {% if tab.count %}
                <span 
                    :class="activeTab === '{{ tab.id }}' ? 'bg-indigo-100 text-indigo-600 dark:bg-indigo-900 dark:text-indigo-400' : 'bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-gray-300'"
                    class="ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium"
                >{{ tab.count }}</span>
                {% endif %}
            </button>
            {% endfor %}
        </nav>
    </div>

    <!-- Tab Content -->
    <div class="mt-4">
        {% for tab in tabs %}
        <div x-show="activeTab === '{{ tab.id }}'" x-cloak>
            {{ tab.content }}
        </div>
        {% endfor %}
        
        {{ content }}
    </div>
</div>
